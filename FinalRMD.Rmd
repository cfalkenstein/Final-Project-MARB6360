---
title: "Analysis of Bull Shark CPUE from 1972-2014"
author: "Cali Falkenstein"
date: "2025-12-03"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
library(rstudioapi)
library(janitor)
library(ggplot2)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r Tidying}
# view working directory
getwd()

setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
getwd()

#Import Dataset
TPWDgill<- read_csv("C:/Users/Cali/Downloads/TPWD gill net catch.csv")

# A tibble is created of the data
TPWDgill

#The data is very messy and has a lot of data over the course of 52 years. We can eliminate some columns in the dataset to clean up the data and focus it on what we're looking for (ie. bull shark Catch Per Unit Effort).

####TIDY####

view(TPWDgill)

bulls <- TPWDgill$Bull_shark

#Keep all environmental factors and location, but need to take out all of the other species that we aren't looking at. 

bullsfull <- TPWDgill[c("MAJOR_AREA_CODE","MINOR_AREA_CODE","STATION_CODE","COMPLETION_DTTM","X","Y","START_TEMPERATURE_NUM","START_SALINITY_NUM",
"START_TURBIDITY_NUM","START_DISSOLVED_OXYGEN_NUM", "start_shallow_water_depth_num","start_deep_water_depth_num", "ELAPSED_TIME", "SEASON", "Bull_shark")]

bullsfull

#There are a lot of 0's in the dataset, which is fine, but it would lessen the dataset if I started the count at 1 instead of zero

bullnozero <- filter(bullsfull, Bull_shark > 0)
bullnozero


```

## Including Plots

You can also embed plots, for example:

```{r plots, echo=FALSE}
#Study Questions

#### How has the trend of bull shark presence changed over time? ####

####Can we visualize these locations on a map? ####

####How do environmental conditions effect presence or absence of bull sharks? ####

#How does salinity change CPUE of bull sharks?

salinty <- ggplot(bullnozero, aes(x = START_SALINITY_NUM, y = Bull_shark)) + geom_line() + labs(title = "Shark CPUE based on Salinity")

salinty

#How does temperature change CPUE of bull sharks?

tempbull <- ggplot(bullnozero, aes(x = START_TEMPERATURE_NUM, y = Bull_shark)) + geom_line(aes(color = SEASON)) + labs(title = "Shark CPUE based on Temperature")

tempbull

####How does Season effect presence or absence of bull sharks? ####

seasonplot <- ggplot(bullnozero, aes(x = COMPLETION_DTTM, y = Bull_shark)) + geom_point(aes(color = SEASON)) + theme_classic() 

seasonplot

####How does time of day effect presence or absence of bull sharks? ####

####Does gillnet soak time effect abundance? ####

soaktime <- ggplot(bullnozero, aes(x = ELAPSED_TIME, y = Bull_shark)) + geom_point() + theme_classic()

soaktime
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
